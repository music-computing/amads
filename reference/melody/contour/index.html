
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../boundary/">
      
      
        <link rel="next" href="../segment/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Contour - AMADS</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#amads.melody.contour.huron_contour.HuronContour" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="AMADS" class="md-header__button md-logo" aria-label="AMADS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AMADS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Contour
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../paper/" class="md-tabs__link">
        
  
  
    
  
  Project Overview

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../core/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../user_guide/installation/" class="md-tabs__link">
        
  
  
    
  
  Install

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../developer_notes/documentation/" class="md-tabs__link">
          
  
  
  Developer

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="AMADS" class="md-nav__button md-logo" aria-label="AMADS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AMADS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../paper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Core
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic Score Elements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics_more/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    More Classes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pitch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pitch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../distribution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Distribution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utility Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vector Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../io/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Input and Output
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Pitch
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pitch
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pitch/ismonophonic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ismonophonic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pitch/hz2midi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hz2midi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pitch/intervals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interval Distributions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pitch/pitches/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pitch Distributions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pitch/key/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Key Profiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pitch/serial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Serial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Time
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Time
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/durations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Duration Distributions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/meter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Meter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/notedensity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Note Density
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/rhythm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rhythm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/swing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Swing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/tempo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tempo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/variability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Variability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Melody
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Melody
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../boundary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Boundary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Contour
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Contour
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.huron_contour.HuronContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;HuronContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.parsons_contour.ParsonsContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ParsonsContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.step_contour.StepContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StepContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.interpolation_contour.InterpolationContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;InterpolationContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.polynomial_contour.PolynomialContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PolynomialContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_pitch_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_pitch_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_pitch_interval_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_pitch_interval_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_duration_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_duration_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_global_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_global_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_step_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_step_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_interpolation_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_interpolation_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_parsons_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_parsons_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_polynomial_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_polynomial_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_huron_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_huron_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_count_mtypes" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_count_mtypes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_mtype_summary_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_mtype_summary_features
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../segment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Segment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../segment_gestalt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Segment gestalt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../similarity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Similarity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Harmony
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Harmony
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../harmony/consonance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Consonance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../harmony/root_finding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Root finding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Polyphony
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Polyphony
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../polyphony/skyline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Skyline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Algorithms
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Algorithms
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/complexity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Complexity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/entropy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entropy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/gcd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GCD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/mtype_tokenizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mtype tokenizer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/ngrams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ngrams
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/nnotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nnotes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/norm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Norm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/scale/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scale
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../algorithms/slice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Slice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schemata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user_guide/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Developer
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Developer
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_notes/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_notes/making_a_release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Making a Release
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_notes/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_notes/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_notes/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_notes/style/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Style
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_notes/github/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Github
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_notes/design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_notes/music21/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Music21
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.huron_contour.HuronContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;HuronContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.parsons_contour.ParsonsContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ParsonsContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.step_contour.StepContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StepContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.interpolation_contour.InterpolationContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;InterpolationContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.contour.polynomial_contour.PolynomialContour" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PolynomialContour
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_pitch_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_pitch_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_pitch_interval_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_pitch_interval_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_duration_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_duration_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_global_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_global_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_step_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_step_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_interpolation_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_interpolation_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_parsons_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_parsons_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_polynomial_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_polynomial_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_huron_contour_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_huron_contour_features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_count_mtypes" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_count_mtypes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amads.melody.fantastic.fantastic_mtype_summary_features" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fantastic_mtype_summary_features
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Contour</h1>

<style>
/* Hide module heading on this page only - this gives us the 
 * top-level docstring content from huron_contour.py without
 * including "mod huron_contour" because we will specifically
 * include the only interesting member of the module: HuronContour
 */
.doc-heading[id="amads.melody.contour.huron_contour"] {
    display: none !important;
}
/* I left the style above for reference but took out the
 * inclusion of the module entirely (next comment, moved
 * inside style so commenting works) because it is
 * redundant with the class description
 */
/* ::: amads.melody.contour.huron_contour */

</style>



<div class="doc doc-object doc-class">



<h2 id="amads.melody.contour.huron_contour.HuronContour" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">HuronContour</span>


<a href="#amads.melody.contour.huron_contour.HuronContour" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">HuronContour</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="pitches (amads.melody.contour.huron_contour.HuronContour(pitches))" href="#amads.melody.contour.huron_contour.HuronContour(pitches)">pitches</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="times (amads.melody.contour.huron_contour.HuronContour(times))" href="#amads.melody.contour.huron_contour.HuronContour(times)">times</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">],</span> <span class="n"><span title="amads.melody.contour.huron_contour.HuronContour(method)">method</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="s2">&quot;amads&quot;</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">



        <p>The contour classification scheme proposed by Huron (1996) [1]</p>
<p>The classification scheme is also included in the FANTASTIC toolbox
of Müllensiefen (2009) [2] (as Feature 19 <code>Huron Contour: h.contour</code>).</p>
<p>Huron categorises melodies by identifying the start, mean, and end pitches
and describing contour in terms of the two directions: start-mean, and mean-end.</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.huron_contour.HuronContour(pitches)" class="doc doc-heading doc-heading-parameter">              <b><code>pitches</code></b>
<a href="#amads.melody.contour.huron_contour.HuronContour(pitches)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>)
          –
          <div class="doc-md-description">
            <p>Pitch values in any numeric format (e.g., MIDI numbers).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.huron_contour.HuronContour(times)" class="doc doc-heading doc-heading-parameter">              <b><code>times</code></b>
<a href="#amads.melody.contour.huron_contour.HuronContour(times)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          –
          <div class="doc-md-description">
            <p>Onset times in any consistent, proportional scheme
(e.g., seconds, quarter notes, etc.)</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
            –
          <div class="doc-md-description">
            <p>If the <code>times</code> and <code>pitches</code> parameters are not the same length.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">happy_birthday_pitches</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span>
<span class="gp">... </span>    <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">65</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">happy_birthday_times</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="mi">0</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">6.75</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>    <span class="mi">12</span><span class="p">,</span> <span class="mf">12.75</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mf">18.75</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hc</span> <span class="o">=</span> <span class="n">HuronContour</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">happy_birthday_pitches</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">happy_birthday_times</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">hc</span><span class="o">.</span><span class="n">first_pitch</span>
<span class="go">60</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hc</span><span class="o">.</span><span class="n">mean_pitch</span>
<span class="go">65</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hc</span><span class="o">.</span><span class="n">last_pitch</span>
<span class="go">65</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hc</span><span class="o">.</span><span class="n">first_to_mean</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hc</span><span class="o">.</span><span class="n">mean_to_last</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hc</span><span class="o">.</span><span class="n">contour_class</span>
<span class="go">&#39;Ascending-Horizontal&#39;</span>
</code></pre></div>


<details class="references" open>
  <summary>References</summary>
  <ol>
<li>
<p>Huron, D (2006). The Melodic Arch in Western Folksongs.
     <em>Computing in Musicology</em> 10.</p>
</li>
<li>
<p>Müllensiefen, D. (2009). Fantastic: Feature ANalysis Technology Accessing
     STatistics (In a Corpus): Technical Report v1.5</p>
</li>
</ol>
</details>











<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            calculate_mean_attributes (amads.melody.contour.huron_contour.HuronContour.calculate_mean_attributes)" href="#amads.melody.contour.huron_contour.HuronContour.calculate_mean_attributes">calculate_mean_attributes</a></code></b>
            –
            <div class="doc-md-description">
              <p>Calculate the mean and populate the remaining attributes.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            class_label (amads.melody.contour.huron_contour.HuronContour.class_label)" href="#amads.melody.contour.huron_contour.HuronContour.class_label">class_label</a></code></b>
            –
            <div class="doc-md-description">
              <p>Classify a contour into Huron's categories.</p>
            </div>
          </li>
    </ul>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>amads/melody/contour/huron_contour.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pitches</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">times</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;amads&quot;</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize with pitch and time values.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    pitches : list[int]</span>
<span class="sd">        Pitch values in any numeric format (e.g., MIDI numbers).</span>
<span class="sd">    times : list[float]</span>
<span class="sd">        Onset times in any consistent, proportional scheme</span>
<span class="sd">        (e.g., seconds, quarter notes, etc.)</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If the `times` and `pitches` parameters are not the same length.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; happy_birthday_pitches = [</span>
<span class="sd">    ...     60, 60, 62, 60, 65, 64, 60, 60, 62, 60, 67, 65,</span>
<span class="sd">    ...     60, 60, 72, 69, 65, 64, 62, 70, 69, 65, 67, 65</span>
<span class="sd">    ... ]</span>
<span class="sd">    &gt;&gt;&gt; happy_birthday_times = [</span>
<span class="sd">    ...     0, 0.75, 1, 2, 3, 4, 6, 6.75, 7, 8, 9, 10,</span>
<span class="sd">    ...     12, 12.75, 13, 14, 15, 16, 17, 18, 18.75, 19, 20, 21</span>
<span class="sd">    ... ]</span>
<span class="sd">    &gt;&gt;&gt; hc = HuronContour(</span>
<span class="sd">    ...     happy_birthday_pitches,</span>
<span class="sd">    ...     happy_birthday_times,</span>
<span class="sd">    ... )</span>

<span class="sd">    &gt;&gt;&gt; hc.first_pitch</span>
<span class="sd">    60</span>
<span class="sd">    &gt;&gt;&gt; hc.mean_pitch</span>
<span class="sd">    65</span>
<span class="sd">    &gt;&gt;&gt; hc.last_pitch</span>
<span class="sd">    65</span>
<span class="sd">    &gt;&gt;&gt; hc.first_to_mean</span>
<span class="sd">    5</span>
<span class="sd">    &gt;&gt;&gt; hc.mean_to_last</span>
<span class="sd">    0</span>
<span class="sd">    &gt;&gt;&gt; hc.contour_class</span>
<span class="sd">    &#39;Ascending-Horizontal&#39;</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">      1. Huron, D (2006). The Melodic Arch in Western Folksongs.</span>
<span class="sd">         *Computing in Musicology* 10.</span>

<span class="sd">      2. Müllensiefen, D. (2009). Fantastic: Feature ANalysis Technology Accessing</span>
<span class="sd">         STatistics (In a Corpus): Technical Report v1.5</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pitches</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Times and pitches must have the same length, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">)</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="o">=</span> <span class="n">times</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span> <span class="o">=</span> <span class="n">pitches</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_pitch</span> <span class="o">=</span> <span class="n">pitches</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_pitch</span> <span class="o">=</span> <span class="n">pitches</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">mean_pitch</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_to_mean</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mean_to_last</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">calculate_mean_attributes</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">contour_class</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">class_label</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">








<h3 id="amads.melody.contour.huron_contour.HuronContour-functions">Functions<a href="#amads.melody.contour.huron_contour.HuronContour-functions" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-function">


<h4 id="amads.melody.contour.huron_contour.HuronContour.calculate_mean_attributes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">calculate_mean_attributes</span>


<a href="#amads.melody.contour.huron_contour.HuronContour.calculate_mean_attributes" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">calculate_mean_attributes</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate the mean and populate the remaining attributes.</p>
<p>Note that the mean pitch is rounded to the nearest integer,
and that this rounding happens before calculating comparisons.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/contour/huron_contour.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_mean_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate the mean and populate the remaining attributes.</span>

<span class="sd">    Note that the mean pitch is rounded to the nearest integer,</span>
<span class="sd">    and that this rounding happens before calculating comparisons.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mean_pitch</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
        <span class="nb">sum</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitches</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">))</span>
        <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">first_to_mean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mean_pitch</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">first_pitch</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mean_to_last</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_pitch</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mean_pitch</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="amads.melody.contour.huron_contour.HuronContour.class_label" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">class_label</span>


<a href="#amads.melody.contour.huron_contour.HuronContour.class_label" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">class_label</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Classify a contour into Huron's categories.</p>
<p>This is based simply on the two directions from start to mean and mean to last.
Huron proposes shorthands for some of these as follows:
"Ascending-Descending" = "Convex",
"Ascending-Horizontal" = None,
"Ascending-Ascending": None,
"Horizontal-Descending": None,
"Horizontal-Horizontal": "Horizontal",
"Horizontal-Ascending": None,
"Descending-Descending": "Descending",
"Descending-Ascending": "Concave"</p>
<p>Where no shorthand is provided, this method return the longhand.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
          –
          <div class="doc-md-description">
            <p>String, exactly as reported in the FANTASTIC library.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/contour/huron_contour.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">class_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Classify a contour into Huron&#39;s categories.</span>

<span class="sd">    This is based simply on the two directions from start to mean and mean to last.</span>
<span class="sd">    Huron proposes shorthands for some of these as follows:</span>
<span class="sd">    &quot;Ascending-Descending&quot; = &quot;Convex&quot;,</span>
<span class="sd">    &quot;Ascending-Horizontal&quot; = None,</span>
<span class="sd">    &quot;Ascending-Ascending&quot;: None,</span>
<span class="sd">    &quot;Horizontal-Descending&quot;: None,</span>
<span class="sd">    &quot;Horizontal-Horizontal&quot;: &quot;Horizontal&quot;,</span>
<span class="sd">    &quot;Horizontal-Ascending&quot;: None,</span>
<span class="sd">    &quot;Descending-Descending&quot;: &quot;Descending&quot;,</span>
<span class="sd">    &quot;Descending-Ascending&quot;: &quot;Concave&quot;</span>

<span class="sd">    Where no shorthand is provided, this method return the longhand.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        String, exactly as reported in the FANTASTIC library.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">direction_dict</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;Descending&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;Horizontal&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;Ascending&quot;</span><span class="p">}</span>

    <span class="n">first_to_mean_sign</span> <span class="o">=</span> <span class="n">sign</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">first_to_mean</span><span class="p">)</span>
    <span class="n">mean_to_last_sign</span> <span class="o">=</span> <span class="n">sign</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mean_to_last</span><span class="p">)</span>

    <span class="n">return_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">direction_dict</span><span class="p">[</span><span class="n">first_to_mean_sign</span><span class="p">]</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">direction_dict</span><span class="p">[</span><span class="n">mean_to_last_sign</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">shorthand_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Ascending-Descending&quot;</span><span class="p">:</span> <span class="s2">&quot;Convex&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Horizontal-Horizontal&quot;</span><span class="p">:</span> <span class="s2">&quot;Horizontal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Descending-Descending&quot;</span><span class="p">:</span> <span class="s2">&quot;Descending&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Descending-Ascending&quot;</span><span class="p">:</span> <span class="s2">&quot;Concave&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">return_string</span> <span class="ow">in</span> <span class="n">shorthand_dict</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contour_class</span> <span class="o">=</span> <span class="n">shorthand_dict</span><span class="p">[</span><span class="n">return_string</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contour_class</span> <span class="o">=</span> <span class="n">return_string</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />


<div class="doc doc-object doc-class">



<h2 id="amads.melody.contour.parsons_contour.ParsonsContour" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ParsonsContour</span>


<a href="#amads.melody.contour.parsons_contour.ParsonsContour" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ParsonsContour</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="pitches (amads.melody.contour.parsons_contour.ParsonsContour(pitches))" href="#amads.melody.contour.parsons_contour.ParsonsContour(pitches)">pitches</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">],</span>
    <span class="n"><a class="autorefs autorefs-internal" title="character_dict (amads.melody.contour.parsons_contour.ParsonsContour(character_dict))" href="#amads.melody.contour.parsons_contour.ParsonsContour(character_dict)">character_dict</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n"><a class="autorefs autorefs-internal" title="initial_asterisk (amads.melody.contour.parsons_contour.ParsonsContour(initial_asterisk))" href="#amads.melody.contour.parsons_contour.ParsonsContour(initial_asterisk)">initial_asterisk</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">



        <p>Implementation of the basic Parsons contour classification scheme.</p>
<p>Parsons categorises each step by direction only.</p>
<p>Nothing more, nothing less.</p>
<p><small><strong>Author</strong>: Mark Gotham</small></p>



<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.parsons_contour.ParsonsContour(pitches)" class="doc doc-heading doc-heading-parameter">              <b><code>pitches</code></b>
<a href="#amads.melody.contour.parsons_contour.ParsonsContour(pitches)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>)
          –
          <div class="doc-md-description">
            <p>A list of integers representing pitches
(assumed to be MIDI numbers or equivalent, not pitch classes)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.parsons_contour.ParsonsContour(character_dict)" class="doc doc-heading doc-heading-parameter">              <b><code>character_dict</code></b>
<a href="#amads.melody.contour.parsons_contour.ParsonsContour(character_dict)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A dict specifying which characters to use when mapped to a string.
Must include keys for [1, 0, -1] corresponding to up, repeat, and down.
The default is Parsons' own values: {1: "u", 0: "r", -1: "d"}.
Other options could include <code>&lt;</code>, <code>=</code>, <code>&gt;</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.parsons_contour.ParsonsContour(initial_asterisk)" class="doc doc-heading doc-heading-parameter">              <b><code>initial_asterisk</code></b>
<a href="#amads.melody.contour.parsons_contour.ParsonsContour(initial_asterisk)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Optionally, include an initial <code>*</code> for the start of the sequence (no previous interval).</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">happy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">65</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc</span> <span class="o">=</span> <span class="n">ParsonsContour</span><span class="p">(</span><span class="n">happy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc</span><span class="o">.</span><span class="n">interval_sequence</span>
<span class="go">[None, 0, 2, -2, 5, -1, -4, 0, 2, -2, 7, -2, -5, 0, 12, -3, -4, -1, -2, 8, -1, -4, 2, -2]</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pc</span><span class="o">.</span><span class="n">interval_sequence_sign</span>
<span class="go">[None, 0, 1, -1, 1, -1, -1, 0, 1, -1, 1, -1, -1, 0, 1, -1, -1, -1, -1, 1, -1, -1, 1, -1]</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pc</span><span class="o">.</span><span class="n">as_string</span>
<span class="go">&#39;rududdrududdrudddduddud&#39;</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">twinkle_ints</span> <span class="o">=</span> <span class="p">[</span><span class="mi">72</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">72</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc</span> <span class="o">=</span> <span class="n">ParsonsContour</span><span class="p">(</span><span class="n">twinkle_ints</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc</span><span class="o">.</span><span class="n">as_string</span>
<span class="go">&#39;rururddrdrdrd&#39;</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pc_no_asterisk</span> <span class="o">=</span> <span class="n">ParsonsContour</span><span class="p">(</span><span class="n">twinkle_ints</span><span class="p">,</span> <span class="n">initial_asterisk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc_no_asterisk</span><span class="o">.</span><span class="n">as_string</span>
<span class="go">&#39;*rururddrdrdrd&#39;</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pc_symbols</span> <span class="o">=</span> <span class="n">ParsonsContour</span><span class="p">(</span><span class="n">twinkle_ints</span><span class="p">,</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc_symbols</span><span class="o">.</span><span class="n">as_string</span>
<span class="go">&#39;=&lt;=&lt;=&gt;&gt;=&gt;=&gt;=&gt;&#39;</span>
</code></pre></div>


<details class="references" open>
  <summary>References</summary>
  <p>[1] Parsons, Denys. 1975. <em>The Directory of Tunes and Musical Themes</em>.</p>
</details>











<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            make_string (amads.melody.contour.parsons_contour.ParsonsContour.make_string)" href="#amads.melody.contour.parsons_contour.ParsonsContour.make_string">make_string</a></code></b>
            –
            <div class="doc-md-description">
              <p>Create a flat, string representation of the contour directions.</p>
            </div>
          </li>
    </ul>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>amads/melody/contour/parsons_contour.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pitches</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">character_dict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">initial_asterisk</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The &#39;Parsons code&#39; returns simply the direction of each successive melodic interval.</span>
<span class="sd">    It&#39;s been used in lookup, and can serve as a useful first entry point to the topic of contour.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    pitches:</span>
<span class="sd">        A list of integers representing pitches</span>
<span class="sd">        (assumed to be MIDI numbers or equivalent, not pitch classes)</span>
<span class="sd">    character_dict:</span>
<span class="sd">        A dict specifying which characters to use when mapped to a string.</span>
<span class="sd">        Must include keys for [1, 0, -1] corresponding to up, repeat, and down.</span>
<span class="sd">        The default is Parsons&#39; own values: {1: &quot;u&quot;, 0: &quot;r&quot;, -1: &quot;d&quot;}.</span>
<span class="sd">        Other options could include `&lt;`, `=`, `&gt;`.</span>
<span class="sd">    initial_asterisk:</span>
<span class="sd">        Optionally, include an initial `*` for the start of the sequence (no previous interval).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; happy = [60, 60, 62, 60, 65, 64, 60, 60, 62, 60, 67, 65, 60, 60, 72, 69, 65, 64, 62, 70, 69, 65, 67, 65]</span>
<span class="sd">    &gt;&gt;&gt; pc = ParsonsContour(happy)</span>
<span class="sd">    &gt;&gt;&gt; pc.interval_sequence</span>
<span class="sd">    [None, 0, 2, -2, 5, -1, -4, 0, 2, -2, 7, -2, -5, 0, 12, -3, -4, -1, -2, 8, -1, -4, 2, -2]</span>

<span class="sd">    &gt;&gt;&gt; pc.interval_sequence_sign</span>
<span class="sd">    [None, 0, 1, -1, 1, -1, -1, 0, 1, -1, 1, -1, -1, 0, 1, -1, -1, -1, -1, 1, -1, -1, 1, -1]</span>

<span class="sd">    &gt;&gt;&gt; pc.as_string</span>
<span class="sd">    &#39;rududdrududdrudddduddud&#39;</span>

<span class="sd">    &gt;&gt;&gt; twinkle_ints = [72, 72, 79, 79, 81, 81, 79, 77, 77, 76, 76, 74, 74, 72]</span>
<span class="sd">    &gt;&gt;&gt; pc = ParsonsContour(twinkle_ints)</span>
<span class="sd">    &gt;&gt;&gt; pc.as_string</span>
<span class="sd">    &#39;rururddrdrdrd&#39;</span>

<span class="sd">    &gt;&gt;&gt; pc_no_asterisk = ParsonsContour(twinkle_ints, initial_asterisk=True)</span>
<span class="sd">    &gt;&gt;&gt; pc_no_asterisk.as_string</span>
<span class="sd">    &#39;*rururddrdrdrd&#39;</span>

<span class="sd">    &gt;&gt;&gt; pc_symbols = ParsonsContour(twinkle_ints, {1: &quot;&lt;&quot;, 0: &quot;=&quot;, -1: &quot;&gt;&quot;})</span>
<span class="sd">    &gt;&gt;&gt; pc_symbols.as_string</span>
<span class="sd">    &#39;=&lt;=&lt;=&gt;&gt;=&gt;=&gt;=&gt;&#39;</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    [1] Parsons, Denys. 1975. *The Directory of Tunes and Musical Themes*.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span> <span class="o">=</span> <span class="n">pitches</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">character_dict</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">character_dict</span> <span class="k">if</span> <span class="n">character_dict</span> <span class="k">else</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;d&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">initial_asterisk</span> <span class="o">=</span> <span class="n">initial_asterisk</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">interval_sequence</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">interval_sequence_sign</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">as_string</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">get_intervals</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">make_string</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">








<h3 id="amads.melody.contour.parsons_contour.ParsonsContour-functions">Functions<a href="#amads.melody.contour.parsons_contour.ParsonsContour-functions" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-function">


<h4 id="amads.melody.contour.parsons_contour.ParsonsContour.make_string" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">make_string</span>


<a href="#amads.melody.contour.parsons_contour.ParsonsContour.make_string" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">make_string</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a flat, string representation of the contour directions.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/contour/parsons_contour.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">make_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a flat, string representation of the contour directions.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">as_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_asterisk</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">as_string</span> <span class="o">+=</span> <span class="s2">&quot;*&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interval_sequence_sign</span><span class="p">)):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">as_string</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">character_dict</span><span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">interval_sequence_sign</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />


<div class="doc doc-object doc-class">



<h2 id="amads.melody.contour.step_contour.StepContour" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">StepContour</span>


<a href="#amads.melody.contour.step_contour.StepContour" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">StepContour</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="pitches (amads.melody.contour.step_contour.StepContour(pitches))" href="#amads.melody.contour.step_contour.StepContour(pitches)">pitches</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">],</span>
    <span class="n"><a class="autorefs autorefs-internal" title="durations (amads.melody.contour.step_contour.StepContour(durations))" href="#amads.melody.contour.step_contour.StepContour(durations)">durations</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">],</span>
    <span class="n"><a class="autorefs autorefs-internal" title="step_contour_length (amads.melody.contour.step_contour.StepContour(step_contour_length))" href="#amads.melody.contour.step_contour.StepContour(step_contour_length)">step_contour_length</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="n"><span title="amads.melody.contour.step_contour.StepContour._step_contour_length">_step_contour_length</span></span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">



        <p>Class for calculating and analyzing the step contour of a melody.</p>
<p>Also related features, as implemented in the FANTASTIC toolbox of
Müllensiefen (2009) [1] (as features 20–22). Exemplified in Steinbeck
(1982) [2], Juhász (2000) [3], Eerola and Toiviainen (2004) [4].</p>
<p>A step contour is a list of MIDI pitch values, repeated proportionally to
the duration (measured in tatums) of each note relative to the total melody
length. This list is normalized to a user defined length, defaulting to 64
steps as used in FANTASTIC. Rests are considered as extending the duration
of the previous note.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">67</span><span class="p">]</span>  <span class="c1"># C4, E4, G4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">durations</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>  <span class="c1"># First note is 2 beats, others are 1 beat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StepContour</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">durations</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">sc</span><span class="o">.</span><span class="n">contour</span><span class="p">)</span>  <span class="c1"># Default length is 64</span>
<span class="go">64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">67</span><span class="p">]</span>  <span class="c1"># C4, D4, E4, F4, G4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">durations</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>  <span class="c1"># Notes have equal durations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StepContour</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">durations</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">contour</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span>  <span class="c1"># First 8 values of 64-length contour</span>
<span class="go">[60, 60, 60, 60, 60, 60, 60, 60]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">global_variation</span>  <span class="c1"># Standard deviation of contour</span>
<span class="go">2.3974</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">global_direction</span>  <span class="c1"># Correlation with ascending line</span>
<span class="go">0.9746</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">local_variation</span>  <span class="c1"># Average absolute difference between adjacent values</span>
<span class="go">0.1111</span>
</code></pre></div>



<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.step_contour.StepContour(pitches)" class="doc doc-heading doc-heading-parameter">              <b><code>pitches</code></b>
<a href="#amads.melody.contour.step_contour.StepContour(pitches)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>)
          –
          <div class="doc-md-description">
            <p>List of pitch values in any numeric format (e.g., MIDI numbers).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.step_contour.StepContour(durations)" class="doc doc-heading doc-heading-parameter">              <b><code>durations</code></b>
<a href="#amads.melody.contour.step_contour.StepContour(durations)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          –
          <div class="doc-md-description">
            <p>List of note durations measured in tatums</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.step_contour.StepContour(step_contour_length)" class="doc doc-heading doc-heading-parameter">              <b><code>step_contour_length</code></b>
<a href="#amads.melody.contour.step_contour.StepContour(step_contour_length)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code><span title="amads.melody.contour.step_contour.StepContour._step_contour_length">_step_contour_length</span></code>
)
          –
          <div class="doc-md-description">
            <p>Length of the output step contour vector (default is 64)</p>
          </div>
        </li>
    </ul>


<details class="references" open>
  <summary>References</summary>
  <ol>
<li>Müllensiefen, D. (2009). Fantastic: Feature ANalysis Technology
    Accessing STatistics (In a Corpus): Technical Report v1.5</li>
<li>W. Steinbeck, Struktur und Ähnlichkeit: <em>Methoden automatisierter
    Melodieanalyse</em>. Bärenreiter, 1982.</li>
<li>Juhász, Z. 2000. A model of variation in the music of a Hungarian
    ethnic group. <em>Journal of New Music Research</em> 29(2):159-172.</li>
<li>Eerola, T. &amp; Toiviainen, P. (2004). MIDI Toolbox: MATLAB Tools for
    Music Research. University of Jyväskylä: Kopijyvä, Jyväskylä,
    Finland.</li>
</ol>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StepContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">step_contour_length</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">contour</span>
<span class="go">[60, 60, 62, 62]</span>
</code></pre></div>














<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="            global_variation


  
      property
   (amads.melody.contour.step_contour.StepContour.global_variation)" href="#amads.melody.contour.step_contour.StepContour.global_variation">global_variation</a></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          –
          <div class="doc-md-description">
            <p>Calculate the global variation of the step contour by taking the standard</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="            global_direction


  
      property
   (amads.melody.contour.step_contour.StepContour.global_direction)" href="#amads.melody.contour.step_contour.StepContour.global_direction">global_direction</a></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          –
          <div class="doc-md-description">
            <p>Calculate the global direction of the step contour by taking the correlation</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="            local_variation


  
      property
   (amads.melody.contour.step_contour.StepContour.local_variation)" href="#amads.melody.contour.step_contour.StepContour.local_variation">local_variation</a></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          –
          <div class="doc-md-description">
            <p>Calculate the local variation of the step contour, by taking the mean</p>
          </div>
        </li>
    </ul>

                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>amads/melody/contour/step_contour.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pitches</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">durations</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
    <span class="n">step_contour_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">_step_contour_length</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize StepContour with melody data.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    pitches : list[int]</span>
<span class="sd">        List of pitch values in any numeric format (e.g., MIDI numbers).</span>
<span class="sd">    durations : list[float]</span>
<span class="sd">        List of note durations measured in tatums</span>
<span class="sd">    step_contour_length : int, optional</span>
<span class="sd">        Length of the output step contour vector (default is 64)</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">     1. Müllensiefen, D. (2009). Fantastic: Feature ANalysis Technology</span>
<span class="sd">        Accessing STatistics (In a Corpus): Technical Report v1.5</span>
<span class="sd">     2. W. Steinbeck, Struktur und Ähnlichkeit: *Methoden automatisierter</span>
<span class="sd">        Melodieanalyse*. Bärenreiter, 1982.</span>
<span class="sd">     3. Juhász, Z. 2000. A model of variation in the music of a Hungarian</span>
<span class="sd">        ethnic group. *Journal of New Music Research* 29(2):159-172.</span>
<span class="sd">     4. Eerola, T. &amp; Toiviainen, P. (2004). MIDI Toolbox: MATLAB Tools for</span>
<span class="sd">        Music Research. University of Jyväskylä: Kopijyvä, Jyväskylä,</span>
<span class="sd">        Finland.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; sc = StepContour([60, 62], [2.0, 2.0], step_contour_length=4)</span>
<span class="sd">    &gt;&gt;&gt; sc.contour</span>
<span class="sd">    [60, 60, 62, 62]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">durations</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The length of pitches (currently </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span><span class="si">}</span><span class="s2">) must be equal to &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;the length of durations (currently </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">durations</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_step_contour_length</span> <span class="o">=</span> <span class="n">step_contour_length</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">contour</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_contour</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">durations</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">





<h3 id="amads.melody.contour.step_contour.StepContour-attributes">Attributes<a href="#amads.melody.contour.step_contour.StepContour-attributes" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-attribute">



<h4 id="amads.melody.contour.step_contour.StepContour.global_variation" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">global_variation</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#amads.melody.contour.step_contour.StepContour.global_variation" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">global_variation</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate the global variation of the step contour by taking the standard
deviation of the step contour vector.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
          –
          <div class="doc-md-description">
            <p>Float value representing the global variation of the step contour</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StepContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">global_variation</span>
<span class="go">1.64</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amads.melody.contour.step_contour.StepContour.global_direction" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">global_direction</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#amads.melody.contour.step_contour.StepContour.global_direction" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">global_direction</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate the global direction of the step contour by taking the correlation
between the step contour vector and an ascending linear function y = x.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
          –
          <div class="doc-md-description">
            <p>Float value representing the global direction of the step contour
Returns 0.0 if the contour is flat</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StepContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">global_direction</span>
<span class="go">0.943</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StepContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">global_direction</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StepContour</span><span class="p">([</span><span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>  <span class="c1"># Descending melody</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">global_direction</span>
<span class="go">-0.943</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amads.melody.contour.step_contour.StepContour.local_variation" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">local_variation</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#amads.melody.contour.step_contour.StepContour.local_variation" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">local_variation</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate the local variation of the step contour, by taking the mean
absolute difference between adjacent values.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
          –
          <div class="doc-md-description">
            <p>Float value representing the local variation of the step contour</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StepContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">local_variation</span>
<span class="go">0.0634</span>
</code></pre></div>

    </div>

</div>


<h3 id="amads.melody.contour.step_contour.StepContour-functions">Functions<a href="#amads.melody.contour.step_contour.StepContour-functions" class="headerlink" title="Permanent link">&para;</a></h3>



  </div>

    </div>

</div><hr />


<div class="doc doc-object doc-class">



<h2 id="amads.melody.contour.interpolation_contour.InterpolationContour" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">InterpolationContour</span>


<a href="#amads.melody.contour.interpolation_contour.InterpolationContour" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">InterpolationContour</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="pitches (amads.melody.contour.interpolation_contour.InterpolationContour(pitches))" href="#amads.melody.contour.interpolation_contour.InterpolationContour(pitches)">pitches</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="times (amads.melody.contour.interpolation_contour.InterpolationContour(times))" href="#amads.melody.contour.interpolation_contour.InterpolationContour(times)">times</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="method (amads.melody.contour.interpolation_contour.InterpolationContour(method))" href="#amads.melody.contour.interpolation_contour.InterpolationContour(method)">method</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="s2">&quot;amads&quot;</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">



        <p>Class for calculating and analyzing interpolated contours of melodies.</p>
<p>As implemented in the FANTASTIC toolbox of Müllensiefen (2009) [1] (as
features 23–27). This representation was first formalised by Steinbeck
(1982) [2], and informed a varient of the present implementation in
Müllensiefen &amp; Frieler (2004) [3].</p>
<p>Includes a modified version of the FANTASTIC method that is better
suited to short melodies than the original implementation. This
'AMADS' method defines turning points using reversals, and is the
default method. All features are returned for either method.</p>
<p>An interpolation contour is produced by first identifying turning points
in the melody, and then interpolating a linear gradient between each
turning point. The resulting list of values represents the gradient
of the melody at evenly spaced points in time.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>



<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.interpolation_contour.InterpolationContour(pitches)" class="doc doc-heading doc-heading-parameter">              <b><code>pitches</code></b>
<a href="#amads.melody.contour.interpolation_contour.InterpolationContour(pitches)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>)
          –
          <div class="doc-md-description">
            <p>Pitch values in any numeric format (e.g., MIDI numbers).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.interpolation_contour.InterpolationContour(times)" class="doc doc-heading doc-heading-parameter">              <b><code>times</code></b>
<a href="#amads.melody.contour.interpolation_contour.InterpolationContour(times)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          –
          <div class="doc-md-description">
            <p>Onset times in any consistent, proportional scheme (e.g., seconds,
quarter notes, etc.)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.interpolation_contour.InterpolationContour(method)" class="doc doc-heading doc-heading-parameter">              <b><code>method</code></b>
<a href="#amads.melody.contour.interpolation_contour.InterpolationContour(method)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>, default:
                  <code>&#39;amads&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Method to use for contour calculation, either "fantastic" or "amads".
Defaults to "amads".
The FANTASTIC method is the original implementation, and identifies
turning points using contour extrema via a series of rules. The
AMADS method instead identifies reversals for all melody lengths,
and is the default method.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
            –
          <div class="doc-md-description">
            <p>If the <code>times</code> and <code>pitches</code> parameters are not the same length.
If method is not "fantastic" or "amads"</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">happy_birthday_pitches</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span>
<span class="gp">... </span>    <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">65</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">happy_birthday_times</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="mi">0</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">6.75</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>    <span class="mi">12</span><span class="p">,</span> <span class="mf">12.75</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mf">18.75</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">happy_birthday_pitches</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">happy_birthday_times</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;fantastic&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">direction_changes</span>
<span class="go">0.6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">class_label</span>
<span class="go">&#39;ccbc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">mean_gradient</span>
<span class="go">2.702...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">gradient_std</span>
<span class="go">5.655...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">global_direction</span>
<span class="go">1</span>
</code></pre></div>


<details class="references" open>
  <summary>References</summary>
  <ol>
<li>
<p>Müllensiefen, D. (2009). Fantastic: Feature ANalysis Technology
    Accessing STatistics (In a Corpus): Technical Report v1.5</p>
</li>
<li>
<p>W. Steinbeck, Struktur und Ähnlichkeit: Methoden automatisierter
    Melodieanalyse. Bärenreiter, 1982.</p>
</li>
<li>
<p>Müllensiefen, D. &amp; Frieler, K. (2004). Cognitive Adequacy in the
    Measurement of Melodic Similarity: Algorithmic vs. Human Judgments</p>
</li>
</ol>
</details>











<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            calculate_interpolation_contour


  
      staticmethod
   (amads.melody.contour.interpolation_contour.InterpolationContour.calculate_interpolation_contour)" href="#amads.melody.contour.interpolation_contour.InterpolationContour.calculate_interpolation_contour">calculate_interpolation_contour</a></code></b>
            –
            <div class="doc-md-description">
              <p>Calculate the interpolation contour representation of a melody [1].</p>
            </div>
          </li>
    </ul>




<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="            global_direction


  
      property
   (amads.melody.contour.interpolation_contour.InterpolationContour.global_direction)" href="#amads.melody.contour.interpolation_contour.InterpolationContour.global_direction">global_direction</a></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
          –
          <div class="doc-md-description">
            <p>Calculate the global direction of the interpolation contour.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="            mean_gradient


  
      property
   (amads.melody.contour.interpolation_contour.InterpolationContour.mean_gradient)" href="#amads.melody.contour.interpolation_contour.InterpolationContour.mean_gradient">mean_gradient</a></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          –
          <div class="doc-md-description">
            <p>Calculate the absolute mean gradient of the interpolation contour.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="            gradient_std


  
      property
   (amads.melody.contour.interpolation_contour.InterpolationContour.gradient_std)" href="#amads.melody.contour.interpolation_contour.InterpolationContour.gradient_std">gradient_std</a></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          –
          <div class="doc-md-description">
            <p>Calculate the standard deviation of the interpolation contour gradients.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="            direction_changes


  
      property
   (amads.melody.contour.interpolation_contour.InterpolationContour.direction_changes)" href="#amads.melody.contour.interpolation_contour.InterpolationContour.direction_changes">direction_changes</a></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          –
          <div class="doc-md-description">
            <p>Calculate the proportion of interpolated gradient values that consistute</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="            class_label


  
      property
   (amads.melody.contour.interpolation_contour.InterpolationContour.class_label)" href="#amads.melody.contour.interpolation_contour.InterpolationContour.class_label">class_label</a></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>Classify an interpolation contour into gradient categories.</p>
          </div>
        </li>
    </ul>

                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>amads/melody/contour/interpolation_contour.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pitches</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">times</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;amads&quot;</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize with pitch and time values.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    pitches : list[int]</span>
<span class="sd">        Pitch values in any numeric format (e.g., MIDI numbers).</span>
<span class="sd">    times : list[float]</span>
<span class="sd">        Onset times in any consistent, proportional scheme (e.g., seconds,</span>
<span class="sd">        quarter notes, etc.)</span>
<span class="sd">    method : str, optional</span>
<span class="sd">        Method to use for contour calculation, either &quot;fantastic&quot; or &quot;amads&quot;.</span>
<span class="sd">        Defaults to &quot;amads&quot;.</span>
<span class="sd">        The FANTASTIC method is the original implementation, and identifies</span>
<span class="sd">        turning points using contour extrema via a series of rules. The</span>
<span class="sd">        AMADS method instead identifies reversals for all melody lengths,</span>
<span class="sd">        and is the default method.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If the `times` and `pitches` parameters are not the same length.</span>
<span class="sd">        If method is not &quot;fantastic&quot; or &quot;amads&quot;</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; happy_birthday_pitches = [</span>
<span class="sd">    ...     60, 60, 62, 60, 65, 64, 60, 60, 62, 60, 67, 65,</span>
<span class="sd">    ...     60, 60, 72, 69, 65, 64, 62, 70, 69, 65, 67, 65</span>
<span class="sd">    ... ]</span>
<span class="sd">    &gt;&gt;&gt; happy_birthday_times = [</span>
<span class="sd">    ...     0, 0.75, 1, 2, 3, 4, 6, 6.75, 7, 8, 9, 10,</span>
<span class="sd">    ...     12, 12.75, 13, 14, 15, 16, 17, 18, 18.75, 19, 20, 21</span>
<span class="sd">    ... ]</span>
<span class="sd">    &gt;&gt;&gt; ic = InterpolationContour(</span>
<span class="sd">    ...     happy_birthday_pitches,</span>
<span class="sd">    ...     happy_birthday_times,</span>
<span class="sd">    ...     method=&quot;fantastic&quot;,</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; ic.direction_changes</span>
<span class="sd">    0.6</span>
<span class="sd">    &gt;&gt;&gt; ic.class_label</span>
<span class="sd">    &#39;ccbc&#39;</span>
<span class="sd">    &gt;&gt;&gt; ic.mean_gradient</span>
<span class="sd">    2.702...</span>
<span class="sd">    &gt;&gt;&gt; ic.gradient_std</span>
<span class="sd">    5.655...</span>
<span class="sd">    &gt;&gt;&gt; ic.global_direction</span>
<span class="sd">    1</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">     1. Müllensiefen, D. (2009). Fantastic: Feature ANalysis Technology</span>
<span class="sd">        Accessing STatistics (In a Corpus): Technical Report v1.5</span>

<span class="sd">     2. W. Steinbeck, Struktur und Ähnlichkeit: Methoden automatisierter</span>
<span class="sd">        Melodieanalyse. Bärenreiter, 1982.</span>

<span class="sd">     3. Müllensiefen, D. &amp; Frieler, K. (2004). Cognitive Adequacy in the</span>
<span class="sd">        Measurement of Melodic Similarity: Algorithmic vs. Human Judgments</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pitches</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Times and pitches must have the same length, got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">)</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;fantastic&quot;</span><span class="p">,</span> <span class="s2">&quot;amads&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Method must be either &#39;fantastic&#39; or &#39;amads&#39;, got </span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="o">=</span> <span class="n">times</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pitches</span> <span class="o">=</span> <span class="n">pitches</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">method</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">contour</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_interpolation_contour</span><span class="p">(</span>
        <span class="n">pitches</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">method</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">





<h3 id="amads.melody.contour.interpolation_contour.InterpolationContour-attributes">Attributes<a href="#amads.melody.contour.interpolation_contour.InterpolationContour-attributes" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-attribute">



<h4 id="amads.melody.contour.interpolation_contour.InterpolationContour.global_direction" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">global_direction</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#amads.melody.contour.interpolation_contour.InterpolationContour.global_direction" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">global_direction</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate the global direction of the interpolation contour.</p>
<p>Takes the sign of the sum of all contour values.
Can be invoked for either FANTASTIC or AMADS method.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
          –
          <div class="doc-md-description">
            <p>1 if sum is positive, 0 if sum is zero, -1 if sum is negative</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Flat overall contour direction (returns the same using FANTASTIC method)</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">global_direction</span>
<span class="go">0</span>
</code></pre></div>
    <p>Upwards contour direction (returns the same using FANTASTIC method)</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">67</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">global_direction</span>
<span class="go">1</span>
</code></pre></div>
    <p>Downwards contour direction (returns the same using FANTASTIC method)</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">67</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">global_direction</span>
<span class="go">-1</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amads.melody.contour.interpolation_contour.InterpolationContour.mean_gradient" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">mean_gradient</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#amads.melody.contour.interpolation_contour.InterpolationContour.mean_gradient" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">mean_gradient</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate the absolute mean gradient of the interpolation contour.
Can be invoked for either FANTASTIC or AMADS method.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
          –
          <div class="doc-md-description">
            <p>Mean of the absolute gradient values</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Steps of 2 semitones per second</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">mean_gradient</span>
<span class="go">2.0</span>
</code></pre></div>
    <p>FANTASTIC method returns 0.0 for this example</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;fantastic&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">mean_gradient</span>
<span class="go">0.0</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amads.melody.contour.interpolation_contour.InterpolationContour.gradient_std" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">gradient_std</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#amads.melody.contour.interpolation_contour.InterpolationContour.gradient_std" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">gradient_std</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate the standard deviation of the interpolation contour gradients.</p>
<p>Can be invoked for either FANTASTIC or AMADS method.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
          –
          <div class="doc-md-description">
            <p>Standard deviation of the gradient values (by default, using Bessel's correction)</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">gradient_std</span>
<span class="go">2.0254...</span>
</code></pre></div>
    <p>FANTASTIC method returns 0.0 for this example</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;fantastic&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">gradient_std</span>
<span class="go">0.0</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amads.melody.contour.interpolation_contour.InterpolationContour.direction_changes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">direction_changes</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#amads.melody.contour.interpolation_contour.InterpolationContour.direction_changes" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">direction_changes</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate the proportion of interpolated gradient values that consistute
a change in direction. For instance, a gradient value of
-0.5 to 0.25 is a change in direction.
Can be invoked for either FANTASTIC or AMADS method.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
          –
          <div class="doc-md-description">
            <p>Ratio of the number of changes in contour direction relative to the number
of different interpolated gradient values</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">direction_changes</span>
<span class="go">1.0</span>
</code></pre></div>
    <p>FANTASTIC method returns 0.0 for this example</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;fantastic&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">direction_changes</span>
<span class="go">0.0</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="amads.melody.contour.interpolation_contour.InterpolationContour.class_label" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">class_label</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#amads.melody.contour.interpolation_contour.InterpolationContour.class_label" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">class_label</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Classify an interpolation contour into gradient categories.</p>
<p>Can be invoked for either FANTASTIC or AMADS method.</p>
<p>The contour is sampled at 4 equally spaced points and each gradient is
normalized to units of pitch change per second
(expressed in units of semitones per 0.25 seconds.)
The result is then classified into one of 5 categories:</p>
<ul>
<li>'a': Strong downward (-2) - normalized gradient &lt;= -1.45</li>
<li>'b': Downward (-1) - normalized gradient between -1.45 and -0.45</li>
<li>'c': Flat (0) - normalized gradient between -0.45 and 0.45</li>
<li>'d': Upward (1) - normalized gradient between 0.45 and 1.45</li>
<li>'e': Strong upward (2) - normalized gradient &gt;= 1.45</li>
</ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
          –
          <div class="doc-md-description">
            <p>String of length 4 containing letters a-e representing the gradient
categories at 4 equally spaced points in the contour</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Upwards, then downwards contour</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">class_label</span>
<span class="go">&#39;ddbb&#39;</span>
</code></pre></div>
    <p>FANTASTIC method returns 'cccc' for this example, as though the contour is flat</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;fantastic&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">.</span><span class="n">class_label</span>
<span class="go">&#39;cccc&#39;</span>
</code></pre></div>

    </div>

</div>


<h3 id="amads.melody.contour.interpolation_contour.InterpolationContour-functions">Functions<a href="#amads.melody.contour.interpolation_contour.InterpolationContour-functions" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-function">


<h4 id="amads.melody.contour.interpolation_contour.InterpolationContour.calculate_interpolation_contour" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">calculate_interpolation_contour</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#amads.melody.contour.interpolation_contour.InterpolationContour.calculate_interpolation_contour" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">calculate_interpolation_contour</span><span class="p">(</span>
    <span class="n"><span title="amads.melody.contour.interpolation_contour.InterpolationContour.calculate_interpolation_contour(pitches)">pitches</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">],</span> <span class="n"><span title="amads.melody.contour.interpolation_contour.InterpolationContour.calculate_interpolation_contour(times)">times</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">],</span> <span class="n"><span title="amads.melody.contour.interpolation_contour.InterpolationContour.calculate_interpolation_contour(method)">method</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="s2">&quot;amads&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate the interpolation contour representation of a melody [1].</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>
          –
          <div class="doc-md-description">
            <p>Array containing the interpolation contour representation</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/contour/interpolation_contour.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">calculate_interpolation_contour</span><span class="p">(</span>
    <span class="n">pitches</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">times</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;amads&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the interpolation contour representation of a melody [1].</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[float]</span>
<span class="sd">        Array containing the interpolation contour representation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;fantastic&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">InterpolationContour</span><span class="o">.</span><span class="n">_calculate_fantastic_contour</span><span class="p">(</span>
            <span class="n">pitches</span><span class="p">,</span> <span class="n">times</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">InterpolationContour</span><span class="o">.</span><span class="n">_calculate_amads_contour</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">times</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />


<div class="doc doc-object doc-class">



<h2 id="amads.melody.contour.polynomial_contour.PolynomialContour" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">PolynomialContour</span>


<a href="#amads.melody.contour.polynomial_contour.PolynomialContour" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">PolynomialContour</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.contour.polynomial_contour.PolynomialContour(score))" href="#amads.melody.contour.polynomial_contour.PolynomialContour(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">



        <p>A class for computing polynomial contour.</p>
<p>As described in the FANTASTIC toolbox [1].
This approach is discussed in detail in Müllensiefen and Wiggins (2011) [2].</p>
<p>Polynomial Contour is constructed in 3 simple steps:</p>
<ul>
<li>
<p>First, the onsets are first centred around the origin of the time axis,
   making a symmetry between the first onset and the last.</p>
</li>
<li>
<p>Then, a polynomial model is fit, seeking to predict the pitch values from
   a least squares regression of the centred onset times.</p>
</li>
<li>
<p>Finally, the best model is selected using Bayes' Information Criterion,
   stepwise and in a backwards direction.</p>
</li>
</ul>
<p>The final output is the coefficients of the first three non-constant terms,
i.e. [c1, c2, c3] from p = c0 + c1t + c2t^2 + c3t^3.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="amads.melody.contour.polynomial_contour.PolynomialContour.score">score</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score object containing the melody to analyze.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="amads.melody.contour.polynomial_contour.PolynomialContour.coefficients">coefficients</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          –
          <div class="doc-md-description">
            <p>The polynomial contour coefficients. Returns the first 3 non-constant
coefficients [c1, c2, c3] of the final selected polynomial contour
model. The constant term is not included as per the FANTASTIC
toolbox specification.</p>
          </div>
        </li>
    </ul>


<details class="references" open>
  <summary>References</summary>
  <ol>
<li>Müllensiefen, D. (2009). Fantastic: Feature ANalysis Technology
    Accessing STatistics (In a Corpus): Technical Report v1.5</li>
<li>Müllensiefen, D., &amp; Wiggins, G.A. (2011). Polynomial functions as a
    representation of melodic phrase contour.</li>
</ol>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <p>Single note melodies return [0.0, 0.0, 0.0] since there is no contour:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">single_note</span> <span class="o">=</span> <span class="n">Score</span><span class="o">.</span><span class="n">from_melody</span><span class="p">([</span><span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc</span> <span class="o">=</span> <span class="n">PolynomialContour</span><span class="p">(</span><span class="n">single_note</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc</span><span class="o">.</span><span class="n">coefficients</span>
<span class="go">[0.0, 0.0, 0.0]</span>
</code></pre></div>
    <p>Real melody examples:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">the_lick</span> <span class="o">=</span> <span class="n">Score</span><span class="o">.</span><span class="n">from_melody</span><span class="p">([</span><span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">62</span><span class="p">],</span>
<span class="gp">... </span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc2</span> <span class="o">=</span> <span class="n">PolynomialContour</span><span class="p">(</span><span class="n">the_lick</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc2</span><span class="o">.</span><span class="n">coefficients</span>  <span class="c1"># Verified against FANTASTIC toolbox</span>
<span class="go">[-1.5014826, -0.2661533, 0.1220570]</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">twinkle</span> <span class="o">=</span> <span class="n">Score</span><span class="o">.</span><span class="n">from_melody</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
<span class="gp">... </span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc3</span> <span class="o">=</span> <span class="n">PolynomialContour</span><span class="p">(</span><span class="n">twinkle</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc3</span><span class="o">.</span><span class="n">coefficients</span>  <span class="c1"># Verified against FANTASTIC toolbox</span>
<span class="go">[-0.9535562, 0.2120971, 0.0000000]</span>
</code></pre></div>

        <p>are returned, as the constant term is not used in the FANTASTIC toolbox. It is
believed that the first three polynomial coefficients capture enough variation in
the contour to be useful.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.contour.polynomial_contour.PolynomialContour(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score object containing the melody to analyze.</p>
          </div>
        </li>
    </ul>












<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            calculate_coefficients (amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients)" href="#amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients">calculate_coefficients</a></code></b>
            –
            <div class="doc-md-description">
              <p>Calculate polynomial contour coefficients for the melody.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            get_onsets_and_pitches (amads.melody.contour.polynomial_contour.PolynomialContour.get_onsets_and_pitches)" href="#amads.melody.contour.polynomial_contour.PolynomialContour.get_onsets_and_pitches">get_onsets_and_pitches</a></code></b>
            –
            <div class="doc-md-description">
              <p>Extract onset times and pitches from a Score object.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            center_onset_times (amads.melody.contour.polynomial_contour.PolynomialContour.center_onset_times)" href="#amads.melody.contour.polynomial_contour.PolynomialContour.center_onset_times">center_onset_times</a></code></b>
            –
            <div class="doc-md-description">
              <p>Center onset times around their midpoint. This produces a symmetric axis</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            fit_polynomial (amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial)" href="#amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial">fit_polynomial</a></code></b>
            –
            <div class="doc-md-description">
              <p>Fit a polynomial model to the melody contour using least squares regression.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            select_model (amads.melody.contour.polynomial_contour.PolynomialContour.select_model)" href="#amads.melody.contour.polynomial_contour.PolynomialContour.select_model">select_model</a></code></b>
            –
            <div class="doc-md-description">
              <p>Select the best polynomial model using BIC in a step-wise backwards fashion.</p>
            </div>
          </li>
    </ul>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>amads/melody/contour/polynomial_contour.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the polynomial contour using a Score object and calculate</span>
<span class="sd">    the Polynomial Contour coefficients. Only the first three non-constant coefficients</span>
<span class="sd">    are returned, as the constant term is not used in the FANTASTIC toolbox. It is</span>
<span class="sd">    believed that the first three polynomial coefficients capture enough variation in</span>
<span class="sd">    the contour to be useful.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score object containing the melody to analyze.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">onsets</span><span class="p">,</span> <span class="n">pitches</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_onsets_and_pitches</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_coefficients</span><span class="p">(</span><span class="n">onsets</span><span class="p">,</span> <span class="n">pitches</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">








<h3 id="amads.melody.contour.polynomial_contour.PolynomialContour-functions">Functions<a href="#amads.melody.contour.polynomial_contour.PolynomialContour-functions" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-function">


<h4 id="amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">calculate_coefficients</span>


<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">calculate_coefficients</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="onsets (amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients(onsets))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients(onsets)">onsets</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="pitches (amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients(pitches))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients(pitches)">pitches</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculate polynomial contour coefficients for the melody.
Main method for the PolynomialContour class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients(onsets)" class="doc doc-heading doc-heading-parameter">              <b><code>onsets</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients(onsets)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          –
          <div class="doc-md-description">
            <p>List of onset times from the score</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients(pitches)" class="doc doc-heading doc-heading-parameter">              <b><code>pitches</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.calculate_coefficients(pitches)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>)
          –
          <div class="doc-md-description">
            <p>List of pitch values from the score</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>
          –
          <div class="doc-md-description">
            <p>First 3 coefficients [c1, c2, c3] of the polynomial contour, with zeros
padded if needed. For melodies with fewer than 2 notes, returns [0.0, 0.0, 0.0]
since there is no meaningful contour to analyze.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/contour/polynomial_contour.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calculate_coefficients</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">onsets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">pitches</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate polynomial contour coefficients for the melody.</span>
<span class="sd">    Main method for the PolynomialContour class.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    onsets : list[float]</span>
<span class="sd">        List of onset times from the score</span>
<span class="sd">    pitches : list[int]</span>
<span class="sd">        List of pitch values from the score</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[float]</span>
<span class="sd">        First 3 coefficients [c1, c2, c3] of the polynomial contour, with zeros</span>
<span class="sd">        padded if needed. For melodies with fewer than 2 notes, returns [0.0, 0.0, 0.0]</span>
<span class="sd">        since there is no meaningful contour to analyze.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">onsets</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>

    <span class="c1"># Center onset times</span>
    <span class="n">centered_onsets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_onset_times</span><span class="p">(</span><span class="n">onsets</span><span class="p">)</span>

    <span class="c1"># Calculate polynomial degree</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">onsets</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

    <span class="c1"># Select best model using BIC</span>
    <span class="n">coefficients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_model</span><span class="p">(</span><span class="n">centered_onsets</span><span class="p">,</span> <span class="n">pitches</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">coefficients</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="amads.melody.contour.polynomial_contour.PolynomialContour.get_onsets_and_pitches" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_onsets_and_pitches</span>


<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.get_onsets_and_pitches" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_onsets_and_pitches</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.contour.polynomial_contour.PolynomialContour.get_onsets_and_pitches(score))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.get_onsets_and_pitches(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Extract onset times and pitches from a Score object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.get_onsets_and_pitches(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.get_onsets_and_pitches(score)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The Score object to extract data from</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>], <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]]</code>
          –
          <div class="doc-md-description">
            <p>A tuple containing (onset_times, pitch_values)</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/contour/polynomial_contour.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_onsets_and_pitches</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">score</span><span class="p">:</span> <span class="n">Score</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract onset times and pitches from a Score object.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The Score object to extract data from</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple[list[float], list[int]]</span>
<span class="sd">        A tuple containing (onset_times, pitch_values)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">get_sorted_notes</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">onset</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">],</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">key_num</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="amads.melody.contour.polynomial_contour.PolynomialContour.center_onset_times" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">center_onset_times</span>


<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.center_onset_times" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">center_onset_times</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="onsets (amads.melody.contour.polynomial_contour.PolynomialContour.center_onset_times(onsets))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.center_onset_times(onsets)">onsets</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Center onset times around their midpoint. This produces a symmetric axis
of onset times, which is used later to fit the polynomial.</p>
<p>For single-note melodies, returns [0.0] since there is no meaningful contour
to analyze.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.center_onset_times(onsets)" class="doc doc-heading doc-heading-parameter">              <b><code>onsets</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.center_onset_times(onsets)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          –
          <div class="doc-md-description">
            <p>List of onset times to center</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>
          –
          <div class="doc-md-description">
            <p>List of centered onset times. Returns [0.0] for single-note melodies.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/contour/polynomial_contour.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">center_onset_times</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">onsets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Center onset times around their midpoint. This produces a symmetric axis</span>
<span class="sd">    of onset times, which is used later to fit the polynomial.</span>

<span class="sd">    For single-note melodies, returns [0.0] since there is no meaningful contour</span>
<span class="sd">    to analyze.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    onsets : list[float]</span>
<span class="sd">        List of onset times to center</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[float]</span>
<span class="sd">        List of centered onset times. Returns [0.0] for single-note melodies.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">onsets</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">onsets</span><span class="p">)</span>

    <span class="c1"># Calculate midpoint using first and last onset times</span>
    <span class="n">midpoint</span> <span class="o">=</span> <span class="p">(</span><span class="n">onsets</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">onsets</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="c1"># Subtract midpoint from each onset time</span>
    <span class="n">centered_onsets</span> <span class="o">=</span> <span class="p">[</span><span class="n">time</span> <span class="o">-</span> <span class="n">midpoint</span> <span class="k">for</span> <span class="n">time</span> <span class="ow">in</span> <span class="n">onsets</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">centered_onsets</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">fit_polynomial</span>


<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fit_polynomial</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="centered_onsets (amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(centered_onsets))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(centered_onsets)">centered_onsets</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="pitches (amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(pitches))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(pitches)">pitches</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="m (amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(m))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(m)">m</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Fit a polynomial model to the melody contour using least squares regression.</p>
<p>The polynomial has the form:
p = c0 + c1<em>t + c2</em>t^2 + ... + cm*t^m</p>
<p>where m = n // 2 (n = number of notes) and t are centered onset times.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(centered_onsets)" class="doc doc-heading doc-heading-parameter">              <b><code>centered_onsets</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(centered_onsets)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          –
          <div class="doc-md-description">
            <p>List of centered onset times</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(pitches)" class="doc doc-heading doc-heading-parameter">              <b><code>pitches</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(pitches)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>)
          –
          <div class="doc-md-description">
            <p>List of pitch values</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(m)" class="doc doc-heading doc-heading-parameter">              <b><code>m</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.fit_polynomial(m)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
          –
          <div class="doc-md-description">
            <p>Maximum polynomial degree to use</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>
          –
          <div class="doc-md-description">
            <p>The coefficients [c0, c1, ..., cm] of the fitted polynomial</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/contour/polynomial_contour.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fit_polynomial</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">centered_onsets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">pitches</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fit a polynomial model to the melody contour using least squares regression.</span>

<span class="sd">    The polynomial has the form:</span>
<span class="sd">    p = c0 + c1*t + c2*t^2 + ... + cm*t^m</span>

<span class="sd">    where m = n // 2 (n = number of notes) and t are centered onset times.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    centered_onsets : list[float]</span>
<span class="sd">        List of centered onset times</span>
<span class="sd">    pitches : list[int]</span>
<span class="sd">        List of pitch values</span>
<span class="sd">    m : int</span>
<span class="sd">        Maximum polynomial degree to use</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[float]</span>
<span class="sd">        The coefficients [c0, c1, ..., cm] of the fitted polynomial</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">pitches</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="mf">0.0</span><span class="p">]</span>

    <span class="c1"># Create predictor matrix X where each column is t^i</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
        <span class="p">[[</span><span class="n">t</span><span class="o">**</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">centered_onsets</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span>
    <span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

    <span class="c1"># Use numpy&#39;s least squares solver</span>
    <span class="n">coeffs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">lstsq</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">rcond</span><span class="o">=</span><span class="kc">None</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">coeffs</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="amads.melody.contour.polynomial_contour.PolynomialContour.select_model" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">select_model</span>


<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.select_model" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">select_model</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="centered_onsets (amads.melody.contour.polynomial_contour.PolynomialContour.select_model(centered_onsets))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.select_model(centered_onsets)">centered_onsets</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="pitches (amads.melody.contour.polynomial_contour.PolynomialContour.select_model(pitches))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.select_model(pitches)">pitches</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="m (amads.melody.contour.polynomial_contour.PolynomialContour.select_model(m))" href="#amads.melody.contour.polynomial_contour.PolynomialContour.select_model(m)">m</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Select the best polynomial model using BIC in a step-wise backwards fashion.
Tests polynomials of decreasing degree and selects the one with the best BIC.
The max degree is the same as <code>m</code> in the fit_polynomial method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.select_model(centered_onsets)" class="doc doc-heading doc-heading-parameter">              <b><code>centered_onsets</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.select_model(centered_onsets)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>)
          –
          <div class="doc-md-description">
            <p>List of centered onset times</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.select_model(pitches)" class="doc doc-heading doc-heading-parameter">              <b><code>pitches</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.select_model(pitches)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]</code>)
          –
          <div class="doc-md-description">
            <p>List of pitch values</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="amads.melody.contour.polynomial_contour.PolynomialContour.select_model(m)" class="doc doc-heading doc-heading-parameter">              <b><code>m</code></b>
<a href="#amads.melody.contour.polynomial_contour.PolynomialContour.select_model(m)" class="headerlink" title="Permanent link">&para;</a></h5>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
          –
          <div class="doc-md-description">
            <p>Maximum polynomial degree to consider</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>]</code>
          –
          <div class="doc-md-description">
            <p>The coefficients [c1, c2, c3] of the selected polynomial model</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/contour/polynomial_contour.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">select_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">centered_onsets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">pitches</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Select the best polynomial model using BIC in a step-wise backwards fashion.</span>
<span class="sd">    Tests polynomials of decreasing degree and selects the one with the best BIC.</span>
<span class="sd">    The max degree is the same as `m` in the fit_polynomial method.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    centered_onsets : list[float]</span>
<span class="sd">        List of centered onset times</span>
<span class="sd">    pitches : list[int]</span>
<span class="sd">        List of pitch values</span>
<span class="sd">    m : int</span>
<span class="sd">        Maximum polynomial degree to consider</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[float]</span>
<span class="sd">        The coefficients [c1, c2, c3] of the selected polynomial model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">max_degree</span> <span class="o">=</span> <span class="n">m</span>
    <span class="n">pitches_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">x_full</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
        <span class="p">[[</span><span class="n">t</span><span class="o">**</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_degree</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">centered_onsets</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Start with maximum degree model</span>
    <span class="n">best_fit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_polynomial</span><span class="p">(</span><span class="n">centered_onsets</span><span class="p">,</span> <span class="n">pitches</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
    <span class="n">best_coeffs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">best_fit</span><span class="p">)</span>
    <span class="n">best_bic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_bic</span><span class="p">(</span><span class="n">best_coeffs</span><span class="p">,</span> <span class="n">x_full</span><span class="p">,</span> <span class="n">pitches_array</span><span class="p">)</span>

    <span class="c1"># Try all possible combinations of polynomial terms</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="n">max_degree</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)):</span>
        <span class="n">binary</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;0</span><span class="si">{</span><span class="n">max_degree</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">b&quot;</span><span class="p">)</span>
        <span class="n">degrees</span> <span class="o">=</span> <span class="p">[</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_degree</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">binary</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">degrees</span><span class="p">:</span>  <span class="c1"># Skip if only constant term</span>
            <span class="k">continue</span>

        <span class="c1"># Create design matrix for this combination</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">centered_onsets</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">degrees</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">degree</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">degrees</span><span class="p">):</span>
            <span class="n">x</span><span class="p">[:,</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="o">**</span><span class="n">degree</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">centered_onsets</span><span class="p">]</span>

        <span class="c1"># Fit model with this combination of degrees</span>
        <span class="n">coeffs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">lstsq</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pitches_array</span><span class="p">,</span> <span class="n">rcond</span><span class="o">=</span><span class="kc">None</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># Create a full coefficient array with zeros for missing degrees</span>
        <span class="n">test_coeffs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">max_degree</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">test_coeffs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Constant term</span>

        <span class="c1"># Fill in the coefficients for the included degrees</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">degree</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">degrees</span><span class="p">):</span>
            <span class="n">test_coeffs</span><span class="p">[</span><span class="n">degree</span><span class="p">]</span> <span class="o">=</span> <span class="n">coeffs</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Calculate BIC</span>
        <span class="n">bic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_bic</span><span class="p">(</span><span class="n">test_coeffs</span><span class="p">,</span> <span class="n">x_full</span><span class="p">,</span> <span class="n">pitches_array</span><span class="p">)</span>

        <span class="c1"># Keep simpler model if BIC improves</span>
        <span class="k">if</span> <span class="n">bic</span> <span class="o">&lt;</span> <span class="n">best_bic</span><span class="p">:</span>
            <span class="n">best_coeffs</span> <span class="o">=</span> <span class="n">test_coeffs</span>
            <span class="n">best_bic</span> <span class="o">=</span> <span class="n">bic</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="n">best_coeffs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span>  <span class="c1"># convert to native float</span>
        <span class="n">best_coeffs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span>
        <span class="n">best_coeffs</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span>
    <span class="p">]</span>  <span class="c1"># Return c1, c2, c3 coefficients</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_pitch_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_pitch_features</span>


<a href="#amads.melody.fantastic.fantastic_pitch_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_pitch_features</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_pitch_features(score))" href="#amads.melody.fantastic.fantastic_pitch_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Extract pitch features from a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_pitch_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_pitch_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to extract pitch features from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of pitch features.
Dictionary keys:
    - pitch_range: The range of pitches in the melody.
    - pitch_std: The standard deviation of the pitches in the melody.
    - pitch_entropy: A variant of the Shannon entropy of the pitches in the melody.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_pitch_features</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract pitch features from a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to extract pitch features from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of pitch features.</span>
<span class="sd">        Dictionary keys:</span>
<span class="sd">            - pitch_range: The range of pitches in the melody.</span>
<span class="sd">            - pitch_std: The standard deviation of the pitches in the melody.</span>
<span class="sd">            - pitch_entropy: A variant of the Shannon entropy of the pitches in the melody.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">get_sorted_notes</span><span class="p">()</span>

    <span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">pitch</span><span class="o">.</span><span class="n">key_num</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>

    <span class="n">pitch_range</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span>
    <span class="n">pitch_std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span>

    <span class="c1"># Calculate pitch entropy using Shannon&#39;s formula</span>
    <span class="c1"># First get frequency distribution of pitches</span>
    <span class="n">pitch_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span>
    <span class="n">total_pitches</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span>

    <span class="c1"># Calculate relative frequencies</span>
    <span class="n">pitch_freqs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">p</span><span class="p">:</span> <span class="n">count</span> <span class="o">/</span> <span class="n">total_pitches</span> <span class="k">for</span> <span class="n">p</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">pitch_counts</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="c1"># Calculate entropy using the formula from the FANTASTIC toolbox</span>
    <span class="n">pitch_entropy</span> <span class="o">=</span> <span class="o">-</span><span class="nb">sum</span><span class="p">(</span>
        <span class="n">f</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log2</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">pitch_freqs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
    <span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log2</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;pitch_range&quot;</span><span class="p">:</span> <span class="n">pitch_range</span><span class="p">,</span>
        <span class="s2">&quot;pitch_std&quot;</span><span class="p">:</span> <span class="n">pitch_std</span><span class="p">,</span>
        <span class="s2">&quot;pitch_entropy&quot;</span><span class="p">:</span> <span class="n">pitch_entropy</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_pitch_interval_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_pitch_interval_features</span>


<a href="#amads.melody.fantastic.fantastic_pitch_interval_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_pitch_interval_features</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_pitch_interval_features(score))" href="#amads.melody.fantastic.fantastic_pitch_interval_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Extract pitch interval features from a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_pitch_interval_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_pitch_interval_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to extract pitch interval features from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of pitch interval features.
Dictionary keys:
    - absolute_interval_range: The range of absolute pitch intervals in the melody.
    - mean_absolute_interval: The mean of the absolute pitch intervals in the melody.
    - std_absolute_interval: The standard deviation of the absolute pitch intervals in the melody.
    - modal_interval: The modal absolute pitch interval in the melody.
    - interval_entropy: A variant of the Shannon entropy of the absolute pitch intervals in the melody.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_pitch_interval_features</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract pitch interval features from a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to extract pitch interval features from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of pitch interval features.</span>
<span class="sd">        Dictionary keys:</span>
<span class="sd">            - absolute_interval_range: The range of absolute pitch intervals in the melody.</span>
<span class="sd">            - mean_absolute_interval: The mean of the absolute pitch intervals in the melody.</span>
<span class="sd">            - std_absolute_interval: The standard deviation of the absolute pitch intervals in the melody.</span>
<span class="sd">            - modal_interval: The modal absolute pitch interval in the melody.</span>
<span class="sd">            - interval_entropy: A variant of the Shannon entropy of the absolute pitch intervals in the melody.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">get_sorted_notes</span><span class="p">()</span>

    <span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">pitch</span><span class="o">.</span><span class="n">key_num</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>
    <span class="c1"># Fantastic defines intervals by looking forwards</span>
    <span class="n">intervals</span> <span class="o">=</span> <span class="p">[</span><span class="n">pitches</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">pitches</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pitches</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
    <span class="c1"># and then always uses the absolute value</span>
    <span class="n">abs_intervals</span> <span class="o">=</span> <span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span> <span class="k">for</span> <span class="n">interval</span> <span class="ow">in</span> <span class="n">intervals</span><span class="p">]</span>

    <span class="n">absolute_interval_range</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">abs_intervals</span><span class="p">)</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">abs_intervals</span><span class="p">)</span>
    <span class="n">mean_absolute_interval</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">abs_intervals</span><span class="p">)</span>
    <span class="n">std_absolute_interval</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">abs_intervals</span><span class="p">)</span>
    <span class="n">modal_interval</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">abs_intervals</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="n">abs_intervals</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>

    <span class="c1"># Calculate interval entropy using Shannon&#39;s formula</span>
    <span class="c1"># First get frequency distribution of intervals</span>
    <span class="n">interval_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">abs_intervals</span><span class="p">)</span>
    <span class="n">total_intervals</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">abs_intervals</span><span class="p">)</span>

    <span class="c1"># Calculate relative frequencies</span>
    <span class="n">interval_freqs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">i</span><span class="p">:</span> <span class="n">count</span> <span class="o">/</span> <span class="n">total_intervals</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">interval_counts</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="c1"># Calculate entropy using the formula from the FANTASTIC toolbox</span>
    <span class="c1"># Note that the maximum number of different intervals is instead 23 here</span>
    <span class="n">interval_entropy</span> <span class="o">=</span> <span class="o">-</span><span class="nb">sum</span><span class="p">(</span>
        <span class="n">f</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log2</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">interval_freqs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
    <span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">log2</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;absolute_interval_range&quot;</span><span class="p">:</span> <span class="n">absolute_interval_range</span><span class="p">,</span>
        <span class="s2">&quot;mean_absolute_interval&quot;</span><span class="p">:</span> <span class="n">mean_absolute_interval</span><span class="p">,</span>
        <span class="s2">&quot;std_absolute_interval&quot;</span><span class="p">:</span> <span class="n">std_absolute_interval</span><span class="p">,</span>
        <span class="s2">&quot;modal_interval&quot;</span><span class="p">:</span> <span class="n">modal_interval</span><span class="p">,</span>
        <span class="s2">&quot;interval_entropy&quot;</span><span class="p">:</span> <span class="n">interval_entropy</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_duration_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_duration_features</span>


<a href="#amads.melody.fantastic.fantastic_duration_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_duration_features</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_duration_features(score))" href="#amads.melody.fantastic.fantastic_duration_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Extract duration features from a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_duration_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_duration_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to extract duration features from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of duration features.
Dictionary keys:</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_duration_features</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract duration features from a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to extract duration features from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of duration features.</span>
<span class="sd">        Dictionary keys:</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Not implemented yet&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_global_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_global_features</span>


<a href="#amads.melody.fantastic.fantastic_global_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_global_features</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_global_features(score))" href="#amads.melody.fantastic.fantastic_global_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Extract global extension features from a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_global_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_global_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to extract global extension features from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of global extension features.
Dictionary keys:</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_global_features</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract global extension features from a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to extract global extension features from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of global extension features.</span>
<span class="sd">        Dictionary keys:</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Not implemented yet&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_step_contour_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_step_contour_features</span>


<a href="#amads.melody.fantastic.fantastic_step_contour_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_step_contour_features</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_step_contour_features(score))" href="#amads.melody.fantastic.fantastic_step_contour_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Extract step contour features from a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_step_contour_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_step_contour_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to extract step contour features from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of step contour features.
Dictionary keys:
    - global_variation: The global variation of the step contour.
    - global_direction: The global direction of the step contour.
    - local_variation: The local variation of the step contour.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_step_contour_features</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract step contour features from a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to extract step contour features from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of step contour features.</span>
<span class="sd">        Dictionary keys:</span>
<span class="sd">            - global_variation: The global variation of the step contour.</span>
<span class="sd">            - global_direction: The global direction of the step contour.</span>
<span class="sd">            - local_variation: The local variation of the step contour.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">get_sorted_notes</span><span class="p">()</span>

    <span class="c1"># Extract pitches and times for contour calculation</span>
    <span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">pitch</span><span class="o">.</span><span class="n">key_num</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>
    <span class="n">durations</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">duration</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>

    <span class="n">sc</span> <span class="o">=</span> <span class="n">StepContour</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">durations</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;global_variation&quot;</span><span class="p">:</span> <span class="n">sc</span><span class="o">.</span><span class="n">global_variation</span><span class="p">,</span>
        <span class="s2">&quot;global_direction&quot;</span><span class="p">:</span> <span class="n">sc</span><span class="o">.</span><span class="n">global_direction</span><span class="p">,</span>
        <span class="s2">&quot;local_variation&quot;</span><span class="p">:</span> <span class="n">sc</span><span class="o">.</span><span class="n">local_variation</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_interpolation_contour_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_interpolation_contour_features</span>


<a href="#amads.melody.fantastic.fantastic_interpolation_contour_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_interpolation_contour_features</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_interpolation_contour_features(score))" href="#amads.melody.fantastic.fantastic_interpolation_contour_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Extract interpolation contour features from a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_interpolation_contour_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_interpolation_contour_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to extract interpolation contour features from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of interpolation contour features.
Dictionary keys:
    - global_direction: The global direction of the interpolation contour.
    - mean_gradient: The mean gradient of the interpolation contour.
    - gradient_std: The standard deviation of the gradient of the interpolation contour.
    - direction_changes: The number of direction changes in the interpolation contour.
    - class_label: The class label of the interpolation contour.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_interpolation_contour_features</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract interpolation contour features from a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to extract interpolation contour features from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of interpolation contour features.</span>
<span class="sd">        Dictionary keys:</span>
<span class="sd">            - global_direction: The global direction of the interpolation contour.</span>
<span class="sd">            - mean_gradient: The mean gradient of the interpolation contour.</span>
<span class="sd">            - gradient_std: The standard deviation of the gradient of the interpolation contour.</span>
<span class="sd">            - direction_changes: The number of direction changes in the interpolation contour.</span>
<span class="sd">            - class_label: The class label of the interpolation contour.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">get_sorted_notes</span><span class="p">()</span>

    <span class="c1"># Extract pitches and times for contour calculation</span>
    <span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">pitch</span><span class="o">.</span><span class="n">key_num</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>
    <span class="n">times</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">onset</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>

    <span class="c1"># Calculate contour</span>
    <span class="n">ic</span> <span class="o">=</span> <span class="n">InterpolationContour</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;fantastic&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="c1"># Interpolation contour features</span>
        <span class="s2">&quot;global_direction&quot;</span><span class="p">:</span> <span class="n">ic</span><span class="o">.</span><span class="n">global_direction</span><span class="p">,</span>
        <span class="s2">&quot;mean_gradient&quot;</span><span class="p">:</span> <span class="n">ic</span><span class="o">.</span><span class="n">mean_gradient</span><span class="p">,</span>
        <span class="s2">&quot;gradient_std&quot;</span><span class="p">:</span> <span class="n">ic</span><span class="o">.</span><span class="n">gradient_std</span><span class="p">,</span>
        <span class="s2">&quot;direction_changes&quot;</span><span class="p">:</span> <span class="n">ic</span><span class="o">.</span><span class="n">direction_changes</span><span class="p">,</span>
        <span class="s2">&quot;class_label&quot;</span><span class="p">:</span> <span class="n">ic</span><span class="o">.</span><span class="n">class_label</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_parsons_contour_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_parsons_contour_features</span>


<a href="#amads.melody.fantastic.fantastic_parsons_contour_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_parsons_contour_features</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_parsons_contour_features(score))" href="#amads.melody.fantastic.fantastic_parsons_contour_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">,</span>
    <span class="n"><span title="amads.melody.fantastic.fantastic_parsons_contour_features(character_dict)">character_dict</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n"><span title="amads.melody.fantastic.fantastic_parsons_contour_features(initial_asterisk)">initial_asterisk</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Extract Parsons contour features from a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_parsons_contour_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_parsons_contour_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to extract Parsons contour features from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of Parsons contour features.
Dictionary keys:
    - interval_sequence: The interval sequence of the melody.
    - interval_sequence_sign: A representation of the direction of the interval sequence
        using -1, 0, and 1 to represent down, repeat, and up intervals respectively.
    - as_string: The Parsons contour as a string, using the characters u, r, and d
        to represent up, repeat, and down intervals respectively.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_parsons_contour_features</span><span class="p">(</span>
    <span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">,</span> <span class="n">character_dict</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">initial_asterisk</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract Parsons contour features from a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to extract Parsons contour features from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of Parsons contour features.</span>
<span class="sd">        Dictionary keys:</span>
<span class="sd">            - interval_sequence: The interval sequence of the melody.</span>
<span class="sd">            - interval_sequence_sign: A representation of the direction of the interval sequence</span>
<span class="sd">                using -1, 0, and 1 to represent down, repeat, and up intervals respectively.</span>
<span class="sd">            - as_string: The Parsons contour as a string, using the characters u, r, and d</span>
<span class="sd">                to represent up, repeat, and down intervals respectively.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">notes</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">get_sorted_notes</span><span class="p">()</span>

    <span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">pitch</span><span class="o">.</span><span class="n">key_num</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>
    <span class="n">pc</span> <span class="o">=</span> <span class="n">ParsonsContour</span><span class="p">(</span>
        <span class="n">pitches</span><span class="p">,</span>
        <span class="n">character_dict</span><span class="o">=</span><span class="n">character_dict</span><span class="p">,</span>
        <span class="n">initial_asterisk</span><span class="o">=</span><span class="n">initial_asterisk</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;interval_sequence&quot;</span><span class="p">:</span> <span class="n">pc</span><span class="o">.</span><span class="n">interval_sequence</span><span class="p">,</span>
        <span class="s2">&quot;interval_sequence_sign&quot;</span><span class="p">:</span> <span class="n">pc</span><span class="o">.</span><span class="n">interval_sequence_sign</span><span class="p">,</span>
        <span class="s2">&quot;as_string&quot;</span><span class="p">:</span> <span class="n">pc</span><span class="o">.</span><span class="n">as_string</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_polynomial_contour_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_polynomial_contour_features</span>


<a href="#amads.melody.fantastic.fantastic_polynomial_contour_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_polynomial_contour_features</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_polynomial_contour_features(score))" href="#amads.melody.fantastic.fantastic_polynomial_contour_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Extract polynomial contour features from a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_polynomial_contour_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_polynomial_contour_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to extract polynomial contour features from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of polynomial contour coefficients.
Dictionary keys:
    - coefficients: The coefficients of the polynomial contour.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_polynomial_contour_features</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract polynomial contour features from a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to extract polynomial contour features from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of polynomial contour coefficients.</span>
<span class="sd">        Dictionary keys:</span>
<span class="sd">            - coefficients: The coefficients of the polynomial contour.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">pc</span> <span class="o">=</span> <span class="n">PolynomialContour</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;coefficients&quot;</span><span class="p">:</span> <span class="n">pc</span><span class="o">.</span><span class="n">coefficients</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_huron_contour_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_huron_contour_features</span>


<a href="#amads.melody.fantastic.fantastic_huron_contour_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_huron_contour_features</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_huron_contour_features(score))" href="#amads.melody.fantastic.fantastic_huron_contour_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Extract Huron contour features from a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_huron_contour_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_huron_contour_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to extract Huron contour features from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of Huron contour features.
Dictionary keys:
    - first_pitch: The first pitch of the melody.
    - mean_pitch: The mean pitch of the melody.
    - last_pitch: The last pitch of the melody.
    - first_to_mean: The difference between the first and mean pitch.
    - mean_to_last: The difference between the mean and last pitch.
    - contour_class: The class of the Huron contour.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_huron_contour_features</span><span class="p">(</span><span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract Huron contour features from a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to extract Huron contour features from.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of Huron contour features.</span>
<span class="sd">        Dictionary keys:</span>
<span class="sd">            - first_pitch: The first pitch of the melody.</span>
<span class="sd">            - mean_pitch: The mean pitch of the melody.</span>
<span class="sd">            - last_pitch: The last pitch of the melody.</span>
<span class="sd">            - first_to_mean: The difference between the first and mean pitch.</span>
<span class="sd">            - mean_to_last: The difference between the mean and last pitch.</span>
<span class="sd">            - contour_class: The class of the Huron contour.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">get_sorted_notes</span><span class="p">()</span>

    <span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">pitch</span><span class="o">.</span><span class="n">key_num</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>
    <span class="n">times</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span><span class="o">.</span><span class="n">onset</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>

    <span class="n">hc</span> <span class="o">=</span> <span class="n">HuronContour</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">times</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;first_pitch&quot;</span><span class="p">:</span> <span class="n">hc</span><span class="o">.</span><span class="n">first_pitch</span><span class="p">,</span>
        <span class="s2">&quot;mean_pitch&quot;</span><span class="p">:</span> <span class="n">hc</span><span class="o">.</span><span class="n">mean_pitch</span><span class="p">,</span>
        <span class="s2">&quot;last_pitch&quot;</span><span class="p">:</span> <span class="n">hc</span><span class="o">.</span><span class="n">last_pitch</span><span class="p">,</span>
        <span class="s2">&quot;first_to_mean&quot;</span><span class="p">:</span> <span class="n">hc</span><span class="o">.</span><span class="n">first_to_mean</span><span class="p">,</span>
        <span class="s2">&quot;mean_to_last&quot;</span><span class="p">:</span> <span class="n">hc</span><span class="o">.</span><span class="n">mean_to_last</span><span class="p">,</span>
        <span class="s2">&quot;contour_class&quot;</span><span class="p">:</span> <span class="n">hc</span><span class="o">.</span><span class="n">contour_class</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_count_mtypes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_count_mtypes</span>


<a href="#amads.melody.fantastic.fantastic_count_mtypes" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_count_mtypes</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_count_mtypes(score))" href="#amads.melody.fantastic.fantastic_count_mtypes(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="segment (amads.melody.fantastic.fantastic_count_mtypes(segment))" href="#amads.melody.fantastic.fantastic_count_mtypes(segment)">segment</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="phrase_gap (amads.melody.fantastic.fantastic_count_mtypes(phrase_gap))" href="#amads.melody.fantastic.fantastic_count_mtypes(phrase_gap)">phrase_gap</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="units (amads.melody.fantastic.fantastic_count_mtypes(units))" href="#amads.melody.fantastic.fantastic_count_mtypes(units)">units</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            NGramCounter (amads.algorithms.ngrams.NGramCounter)" href="../../algorithms/ngrams/#amads.algorithms.ngrams.NGramCounter">NGramCounter</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Count M-Types in a melody.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_count_mtypes(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_count_mtypes(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to count M-Types in.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_count_mtypes(segment)" class="doc doc-heading doc-heading-parameter">              <b><code>segment</code></b>
<a href="#amads.melody.fantastic.fantastic_count_mtypes(segment)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>)
          –
          <div class="doc-md-description">
            <p>Whether to segment the melody into phrases.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_count_mtypes(phrase_gap)" class="doc doc-heading doc-heading-parameter">              <b><code>phrase_gap</code></b>
<a href="#amads.melody.fantastic.fantastic_count_mtypes(phrase_gap)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          –
          <div class="doc-md-description">
            <p>The minimum IOI gap to consider a new phrase.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_count_mtypes(units)" class="doc doc-heading doc-heading-parameter">              <b><code>units</code></b>
<a href="#amads.melody.fantastic.fantastic_count_mtypes(units)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>The units of the phrase gap, either "seconds" or "quarters".</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-internal" title="            NGramCounter (amads.algorithms.ngrams.NGramCounter)" href="../../algorithms/ngrams/#amads.algorithms.ngrams.NGramCounter">NGramCounter</a></code>
          –
          <div class="doc-md-description">
            <p>An NGramCounter object containing the counts of M-Types.
This allows for the computation of the complexity measures, either
by accessing the properties of the NGramCounter object or by using
the <code>fantastic_mtype_summary_features</code> function.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_count_mtypes</span><span class="p">(</span>
    <span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">,</span> <span class="n">segment</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">phrase_gap</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">units</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NGramCounter</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Count M-Types in a melody.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to count M-Types in.</span>
<span class="sd">    segment : bool</span>
<span class="sd">        Whether to segment the melody into phrases.</span>
<span class="sd">    phrase_gap : float</span>
<span class="sd">        The minimum IOI gap to consider a new phrase.</span>
<span class="sd">    units : str</span>
<span class="sd">        The units of the phrase gap, either &quot;seconds&quot; or &quot;quarters&quot;.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    NGramCounter</span>
<span class="sd">        An NGramCounter object containing the counts of M-Types.</span>
<span class="sd">        This allows for the computation of the complexity measures, either</span>
<span class="sd">        by accessing the properties of the NGramCounter object or by using</span>
<span class="sd">        the `fantastic_mtype_summary_features` function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">segment</span><span class="p">:</span>
        <span class="n">segments</span> <span class="o">=</span> <span class="n">fantastic_segmenter</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">phrase_gap</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">segments</span> <span class="o">=</span> <span class="p">[</span><span class="n">score</span><span class="p">]</span>

    <span class="n">counter</span> <span class="o">=</span> <span class="n">NGramCounter</span><span class="p">()</span>
    <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">FantasticTokenizer</span><span class="p">()</span>

    <span class="n">all_tokens</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">phrase</span> <span class="ow">in</span> <span class="n">segments</span><span class="p">:</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span>
        <span class="n">all_tokens</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>

    <span class="n">counter</span><span class="o">.</span><span class="n">count_ngrams</span><span class="p">(</span><span class="n">all_tokens</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">counter</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><hr />


<div class="doc doc-object doc-function">


<h2 id="amads.melody.fantastic.fantastic_mtype_summary_features" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fantastic_mtype_summary_features</span>


<a href="#amads.melody.fantastic.fantastic_mtype_summary_features" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fantastic_mtype_summary_features</span><span class="p">(</span>
    <span class="n"><a class="autorefs autorefs-internal" title="score (amads.melody.fantastic.fantastic_mtype_summary_features(score))" href="#amads.melody.fantastic.fantastic_mtype_summary_features(score)">score</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="segment (amads.melody.fantastic.fantastic_mtype_summary_features(segment))" href="#amads.melody.fantastic.fantastic_mtype_summary_features(segment)">segment</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="phrase_gap (amads.melody.fantastic.fantastic_mtype_summary_features(phrase_gap))" href="#amads.melody.fantastic.fantastic_mtype_summary_features(phrase_gap)">phrase_gap</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="units (amads.melody.fantastic.fantastic_mtype_summary_features(units))" href="#amads.melody.fantastic.fantastic_mtype_summary_features(units)">units</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Count M-Types in a melody and compute summary features.</p>
<p>This function provides an easy way to get all the complexity measures
at once.</p>
<p><small><strong>Author</strong>: David Whyatt</small></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_mtype_summary_features(score)" class="doc doc-heading doc-heading-parameter">              <b><code>score</code></b>
<a href="#amads.melody.fantastic.fantastic_mtype_summary_features(score)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-internal" title="            Score (amads.core.basics.Score)" href="../../basics/#amads.core.basics.Score">Score</a></code>)
          –
          <div class="doc-md-description">
            <p>The score to count M-Types in.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_mtype_summary_features(segment)" class="doc doc-heading doc-heading-parameter">              <b><code>segment</code></b>
<a href="#amads.melody.fantastic.fantastic_mtype_summary_features(segment)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>)
          –
          <div class="doc-md-description">
            <p>Whether to segment the melody into phrases.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_mtype_summary_features(phrase_gap)" class="doc doc-heading doc-heading-parameter">              <b><code>phrase_gap</code></b>
<a href="#amads.melody.fantastic.fantastic_mtype_summary_features(phrase_gap)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          –
          <div class="doc-md-description">
            <p>The minimum IOI gap to consider a new phrase.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="amads.melody.fantastic.fantastic_mtype_summary_features(units)" class="doc doc-heading doc-heading-parameter">              <b><code>units</code></b>
<a href="#amads.melody.fantastic.fantastic_mtype_summary_features(units)" class="headerlink" title="Permanent link">&para;</a></h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>The units of the phrase gap, either "seconds" or "quarters".</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
          –
          <div class="doc-md-description">
            <p>A dictionary of summary features.
Dictionary keys:</p>
<pre><code>- mean_entropy: The mean entropy of the M-Types.
- mean_productivity: The mean productivity of the M-Types.
- yules_k: The mean Yules K statistic.
- simpsons_d: The mean Simpson's D statistic.
- sichels_s: The mean Sichels S statistic.
- honores_h: The mean Honores H statistic.
</code></pre>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>amads/melody/fantastic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fantastic_mtype_summary_features</span><span class="p">(</span>
    <span class="n">score</span><span class="p">:</span> <span class="n">Score</span><span class="p">,</span> <span class="n">segment</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">phrase_gap</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">units</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Count M-Types in a melody and compute summary features.</span>

<span class="sd">    This function provides an easy way to get all the complexity measures</span>
<span class="sd">    at once.</span>

<span class="sd">    &lt;small&gt;**Author**: David Whyatt&lt;/small&gt;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    score : Score</span>
<span class="sd">        The score to count M-Types in.</span>
<span class="sd">    segment : bool</span>
<span class="sd">        Whether to segment the melody into phrases.</span>
<span class="sd">    phrase_gap : float</span>
<span class="sd">        The minimum IOI gap to consider a new phrase.</span>
<span class="sd">    units : str</span>
<span class="sd">        The units of the phrase gap, either &quot;seconds&quot; or &quot;quarters&quot;.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        A dictionary of summary features.</span>
<span class="sd">        Dictionary keys:</span>

<span class="sd">            - mean_entropy: The mean entropy of the M-Types.</span>
<span class="sd">            - mean_productivity: The mean productivity of the M-Types.</span>
<span class="sd">            - yules_k: The mean Yules K statistic.</span>
<span class="sd">            - simpsons_d: The mean Simpson&#39;s D statistic.</span>
<span class="sd">            - sichels_s: The mean Sichels S statistic.</span>
<span class="sd">            - honores_h: The mean Honores H statistic.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mtype_counts</span> <span class="o">=</span> <span class="n">fantastic_count_mtypes</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">segment</span><span class="p">,</span> <span class="n">phrase_gap</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;mean_entropy&quot;</span><span class="p">:</span> <span class="n">mtype_counts</span><span class="o">.</span><span class="n">mean_entropy</span><span class="p">,</span>
        <span class="s2">&quot;mean_productivity&quot;</span><span class="p">:</span> <span class="n">mtype_counts</span><span class="o">.</span><span class="n">mean_productivity</span><span class="p">,</span>
        <span class="s2">&quot;yules_k&quot;</span><span class="p">:</span> <span class="n">mtype_counts</span><span class="o">.</span><span class="n">yules_k</span><span class="p">,</span>
        <span class="s2">&quot;simpsons_d&quot;</span><span class="p">:</span> <span class="n">mtype_counts</span><span class="o">.</span><span class="n">simpsons_d</span><span class="p">,</span>
        <span class="s2">&quot;sichels_s&quot;</span><span class="p">:</span> <span class="n">mtype_counts</span><span class="o">.</span><span class="n">sichels_s</span><span class="p">,</span>
        <span class="s2">&quot;honores_h&quot;</span><span class="p">:</span> <span class="n">mtype_counts</span><span class="o">.</span><span class="n">honores_h</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.sections", "navigation.expand", "navigation.tabs"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../javascripts/fix-properties.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>